# 递归

## 1、理解

定义：某个函数直接或间接的调用自身的问题的求解过程。

    直接调用: 在fun()中直接执行fun()
    间接调用: 在fun1()中执行fun2(); 在fun2()中又执行fun1()

问题的求解过程：

    - 划分成许多相同性质(相同的求解方法)的子问题的求解
    - 而小问题的求解过程可以很容易的求出
    - 这些子问题的解就构成里原问题的解

总体思想

    - 待求解问题的解 --> 输入变量x的函数f(x)
    - 通过寻找函数g(), 使得f(x) = g(f(x-1))，即由求解f(x)的问题转变成求解f(x-1)的问题
    - 且已知f(0)的值, 就可以通过f(0)和g()求出f(x)的值

关键

    - 找出递推公式；[g(f(x-1))] (缩小规模)
    - 找到递归终止条件；[f(0)] (找规模最小的子问题的解决方法)

与枚举的区别

    - 枚举：一个问题划分成一组子问题, 依次对这些子问题求解。子问题之间是横向的、同类的关系

    - 递归：把一个问题 逐级 分解成子问题。子问题与原问题之间是纵向的、同类的关系

## 2、示例

求阶乘的递归程序

```java
//f(4) = 4*3*2*1 = 4*f(3) = ... = 4*3*2*1*f(0)
public int f(int n){
   if(n == 0){
     return 1;    // 递归终止条件
   }

   return n*f(n-1);   //递推公式
}
```

## 3、栈与递归的关系

关于递归中递进和回归的理解：

```java
public static void recursion_display(int n) {
    int temp=n;//保证前后打印的值一样
    System.out.println("递进:" + temp);
    if (n > 0) {
        recursion_display(--n);
    }
    System.out.println("回归:" + temp);
}
//递进:3
//递进:2
//递进:1
//递进:0
//回归:0
//回归:1
//回归:2
//回归:3
```

整个过程实际上就是一个栈的入栈和出栈问题。那么递归中的“递”就是入栈，递进；“归”就是出栈，回归。

求阶乘的入栈与出栈：

![digui01](https://s1.ax1x.com/2020/07/01/N7zxUK.png)

    问题规模一层层缩小是入栈(红色箭头)；解一层层回归是出栈。

用栈代替递归的示例：

    从尾到头打印链表(剑指offer)

--------------------------------------------------------------------

资料：

[【北京大学】程序设计实习 （C++版） 郭炜/刘家瑛老师](https://www.bilibili.com/video/BV1Lt41177nr?p=63)

[栈与递归的关系](https://www.cnblogs.com/klguang/p/5463137.html)
