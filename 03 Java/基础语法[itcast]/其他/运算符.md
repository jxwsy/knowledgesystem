# 运算符

[TOC]

## 1、算术运算符

	A:+,-,*,/,%,++,--
	B:+的用法
			a:加法
			b:正号
			c:字符串连接符
	C:/和%的区别
			数据做除法操作的时候，/取得是商，%取得是余数
	D:++和--的用法
			a:他们的作用是自增或者自减
			b:使用
				**单独使用
					放在操作数据的前面和后面效果一样。
					a++或者++a效果一样。
				**参与操作使用
					放在操作数的前面：先自增或者自减，再参与操作
						int a = 10;
						int b = ++a;
					放在操作数的后面：先参与操作，再自增或者自减
						int a = 10;
						int b = a++;
	        a=2;b=++a   a=2;b=3
	        a=2;b=a++   a=3;b=2

## 2、赋值运算符

	A:=,+=,-=,*=,/=,%=等
	B:=叫做赋值运算符，也是最基本的赋值运算符
		int x = 10; 把10赋值给int类型的变量x。
	C:扩展的赋值运算符的特点
		隐含了自动强制转换。

		面试题：
				short s = 1;
				s = s + 1;  //错误，会损失精度

				short s = 1;
				s += 1;  //正确，相当于  s = (short) (s + 1);
					请问上面的代码哪个有问题?

## 3、比较运算符

	A:==,!=,>,>=,<,<=
	B:无论运算符两端简单还是复杂最终结果是boolean类型。
	C:千万不要把==写成了=

```java
int a = 10;
int b = 20;
//boolean flag = (a == b); //正确
boolean flag = (a = b); //这个是有问题的，不兼容的类型。a是int，但赋给了boolean.
System.out.println(flag);

int c = (a = b); //把b赋值给a，然后把a留下来
System.out.println(c); //20
```

## 4、逻辑运算符

	A:&,|,^,!,&&,||
	B:逻辑运算符用于连接boolean类型的式子
	C:结论
		&:有false则false
		|:有true则true
		^:相同则false，不同则true。
		情侣关系。
		!:非true则false，非false则true

		&&:结果和&是一样的，只不过有短路效果。左边是false，右边不执行。
		||:结果和|是一样的，只不过有短路效果。左边是true，右边不执行。

## 5、位运算符

符号|说明
--|:--:
&| 有0则为0
\|	|有1则为1
^	|相同是0；不相同1;异或两次，值不变
~ | 0变1；1变0

```java
int a = 3;
int b = 4;

System.out.println(3 & 4);
System.out.println(3 | 4);
System.out.println(3 ^ 4);
System.out.println(~3);

/*
分析：因为是位运算，所以我们必须先把数据换算成二进制。

3的二进制：11
00000000 00000000 00000000 00000011
4的二进制：100
00000000 00000000 00000000 00000100

&位与运算：有0则0。
 00000000 00000000 00000000 00000011
&00000000 00000000 00000000 00000100
-----------------------------------
00000000 00000000 00000000 00000000
结果是：0

|位或运算：有1则1。
 00000000 00000000 00000000 00000011
|00000000 00000000 00000000 00000100
-----------------------------------
00000000 00000000 00000000 00000111
结果是：7

^位异或运算：相同则0，不同则1。
 00000000 00000000 00000000 00000011
&00000000 00000000 00000000 00000100
-----------------------------------
00000000 00000000 00000000 00000111
结果是：7

~按位取反运算符：0变1，1变0
 00000000 00000000 00000000 00000011
~11111111 11111111 11111111 11111100 (补码)

补码：11111111 11111111 11111111 11111100
反码：11111111 11111111 11111111 11111011
原码：10000000 00000000 00000000 00000100
结果是：-4
*/
```

```java
// 交换两个值

int a = 10;
int b = 20;

System.out.println("a:"+a+",b:"+b);

//方式1：使用第三方变量(开发中用的)
/*
int c = a;
a = b;
b = c;
System.out.println("a:"+a+",b:"+b);
System.out.println("------------");
*/

//方式2：用位异或实现(面试用) ;异或两次，值不变
//左边：a,b,a
//右边：a ^ b
/*
a = a ^ b;
b = a ^ b; //(a ^ b) ^ b = a
a = a ^ b; //a ^ (b ^ a) = b
System.out.println("a:"+a+",b:"+b);
*/

//方式3：用变量相加的做法
/*
a = a + b; //a=30
b = a - b; //b=10
a = a - b; //a=20
System.out.println("a:"+a+",b:"+b);
*/

//方式4：一句话搞定
b = (a+b) - (a=b); //b=30-20=10,a=20
System.out.println("a:"+a+",b:"+b);
```

符号|说明
--|:--:
<<|空位补0，被移除的高位丢弃。
\>>|	被移位的二进制最高位是0，右移后，空缺位补0；最高位是1，最高位补1。
\>>>|被移位二进制最高位无论是0或者是1，空缺位都用0补。

```java
//<< :把<<左边的数据乘以2的移动次幂
System.out.println(3 << 2); //3*2^2 = 3*4 = 12;

//>> :把>>左边的数据除以2的移动次幂
System.out.println(24 >> 2); //24 / 2^2 = 24 / 4 = 6
System.out.println(24 >>> 2);

System.out.println(-24 >> 2);
System.out.println(-24 >>> 2);

/*
分析：
计算出3的二进制：11
00000000 00000000 00000000 00000011
(00)000000 00000000 00000000 0000001100

>>的移动：
计算出24的二进制：11000
原码：10000000 00000000 00000000 00011000
反码：11111111 11111111 11111111 11100111
补码：11111111 11111111 11111111 11101000

11111111 11111111 11111111 11101000
1111111111 11111111 11111111 111010(00) 补码

补码：1111111111 11111111 11111111 111010
反码：1111111111 11111111 11111111 111001
原码：1000000000 00000000 00000000 000110

结果：-6

>>>的移动：
计算出24的二进制：11000
原码：10000000 00000000 00000000 00011000
反码：11111111 11111111 11111111 11100111
补码：11111111 11111111 11111111 11101000

11111111 11111111 11111111 11101000
0011111111 11111111 11111111 111010(00)

结果：1073741818

面试题：
	请用最有效率的方式写出计算2乘以8的结果?  （除法）
      2 * 8
      2 << 3
*/
```

## 6、三目运算符

	(关系表达式)?表达式1：表达式2；
	如果条件为true，运算后的结果是表达式1；
	如果条件为false，运算后的结果是表达式2；

```java
//获取两个整数中的最大值
int x = 100;
int y = 200;

int max = (x > y? x: y);
System.out.println("max:"+max);
System.out.println("--------");

//获取三个整数中的最大值
int a = 10;
int b = 30;
int c = 20;

//分两步：
//A:先比较a,b的最大值
//B:拿a,b的最大值在和c进行比较
int temp = ((a > b)? a: b);
//System.out.println(temp);
int max1 = (temp > c? temp: c);
System.out.println("max1:"+max1);

//一步搞定
//int max2 = (a > b)?((a > c)? a: c):((b > c)? b: c);
//这种做法不推荐。
//int max2 = a > b?a > c? a: c:b > c? b: c;
//System.out.println("max2:"+max2);
System.out.println("--------");

//比较两个整数是否相同
int m = 100;
int n = 200;

//boolean flag = (m == n)? true: false; //boolean 本身的结果就是true\false.
boolean flag = (m == n);
System.out.println(flag);
```
